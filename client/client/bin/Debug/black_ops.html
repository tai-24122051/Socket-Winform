
<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <title>ROOT@SYSTEM:~/REMOTE_CONTROL#</title>
    <style>
        /* --- BLACK HAT THEME --- */
        :root { 
            --bg: #000000; 
            --text: #00ff00; 
            --alert: #ff0000; 
            --dim: #444;
            --font: 'Courier New', monospace;
        }
        * { box-sizing: border-box; outline: none; }
        body { 
            background: var(--bg); color: var(--text); font-family: var(--font); 
            margin: 0; padding: 10px; height: 100vh; overflow: hidden; font-size: 13px;
        }
        
        /* --- LAYOUT --- */
        .grid-container {
            display: grid;
            grid-template-columns: 280px 1fr 320px;
            grid-template-rows: 50px 1fr 250px;
            gap: 10px; height: 100%;
        }

        /* --- BORDERS & BOXES --- */
        .box { 
            border: 1px solid var(--dim); padding: 10px; 
            background: rgba(10, 10, 10, 0.9); display: flex; flex-direction: column;
        }
        .header-box { grid-column: 1 / -1; display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid var(--text); }
        .log-box { grid-column: 1 / -1; overflow: hidden; border-top: 2px solid var(--dim); }

        /* --- TEXT STYLES --- */
        h1, h2, h3 { margin: 0; padding: 0; text-transform: uppercase; letter-spacing: 1px; }
        .title { font-weight: bold; font-size: 18px; text-shadow: 0 0 5px var(--text); }
        .blink { animation: blinker 1s linear infinite; }
        @keyframes blinker { 50% { opacity: 0; } }

        /* --- INPUTS & BUTTONS --- */
        input { 
            background: #111; border: 1px solid var(--dim); color: #fff; 
            padding: 5px; width: 100%; font-family: var(--font); margin-bottom: 5px;
        }
        input:focus { border-color: var(--text); }

        button {
            background: #000; color: var(--text); border: 1px solid var(--text);
            padding: 8px; width: 100%; margin-bottom: 5px; cursor: pointer;
            text-transform: uppercase; font-weight: bold; font-family: var(--font);
            transition: 0.1s;
        }
        button:hover { background: var(--text); color: #000; }
        button:active { transform: translateY(2px); }
        
        .btn-danger { color: var(--alert); border-color: var(--alert); }
        .btn-danger:hover { background: var(--alert); color: #000; }

        /* --- LOG TERMINAL --- */
        #terminal { 
            flex: 1; overflow-y: scroll; padding-right: 5px; 
            font-size: 12px; line-height: 1.3; color: #ccc;
        }
        #terminal::-webkit-scrollbar { width: 5px; }
        #terminal::-webkit-scrollbar-thumb { background: var(--dim); }
        .log-time { color: #666; margin-right: 8px; }
        .log-cmd { color: #fff; font-weight: bold; }
        .log-err { color: var(--alert); }
        .log-res { color: var(--text); }

        /* --- MEDIA VIEW --- */
        #media-screen {
            flex: 1; border: 1px dashed var(--dim); 
            display: flex; align-items: center; justify-content: center;
            background: #050505; color: var(--dim);
        }
        img, video { max-width: 100%; max-height: 100%; border: 1px solid var(--dim); }

        /* --- DATA TABLE (List App) --- */
        table { width: 100%; border-collapse: collapse; font-size: 11px; margin-top: 5px; }
        th { text-align: left; border-bottom: 1px solid var(--text); color: var(--text); padding: 2px; }
        td { border-bottom: 1px solid #222; padding: 2px; color: #ddd; }
        tr:hover { background: #111; }
    </style>
</head>
<body>
    <div class='grid-container'>
        <div class='box header-box'>
            <div class='title'>☠️ BLACK_OPS_V3.0 <span class='blink'>_</span></div>
            <div id='connection-status' style='color:red'>[ DISCONNECTED ]</div>
        </div>

        <div class='box'>
            <h3>>> TARGET_CONNECT</h3>
            <div style='margin-top:10px'>
                <label>TARGET IP:</label>
                <input type='text' id='ip' value='127.0.0.1'>
                <button onclick='connect()'>[ INITIALIZE UPLINK ]</button>
            </div>
            
            <h3 style='margin-top:20px'>>> SYSTEM_CONTROL</h3>
            <div style='margin-top:10px'>
                <button onclick="send('LIST_APP')"> > GET PROCESS LIST</button>
                <button onclick="send('KEYLOG')"> > DUMP KEYLOGGER</button>
                <div style='height:10px'></div>
                <input id='appName' placeholder='App Name (e.g., notepad)'>
                <button onclick="startApp()"> > EXECUTE APP</button>
                <input id='killId' placeholder='PID (e.g., 1234)'>
                <button onclick="killApp()" class='btn-danger'> > KILL PROCESS</button>
            </div>
        </div>

        <div class='box'>
            <h3>>> VISUAL_FEED</h3>
            <div id='media-screen'>NO SIGNAL INPUT</div>
            <div style='display:grid; grid-template-columns: 1fr 1fr; gap:5px; margin-top:10px'>
                <button onclick="send('SCREENSHOT')">CAPTURE SCREEN</button>
                <button onclick="send('WEBCAM')">RECORD CAM (10s)</button>
            </div>
        </div>

        <div class='box'>
            <h3 style='color:var(--alert)'>>> DANGER_ZONE</h3>
            <p style='font-size:11px; color:#666'>CRITICAL SYSTEM OPERATIONS</p>
            <button class='btn-danger' onclick="if(confirm('CONFIRM SHUTDOWN?')) send('SHUTDOWN')"> [ SHUTDOWN REMOTE ]</button>
            <button class='btn-danger' onclick="if(confirm('CONFIRM RESTART?')) send('RESTART')"> [ RESTART REMOTE ]</button>
            
            <div style='margin-top:auto'>
                <h3>>> STATUS_INFO</h3>
                <div id='info-panel' style='font-size:11px; color:#888; margin-top:5px'>
                    Waiting for handshake...
                </div>
            </div>
        </div>

        <div class='box log-box'>
            <div id='terminal'>
                <div><span class='log-time'>[SYSTEM]</span> Interface loaded. Ready for commands...</div>
            </div>
        </div>
    </div>

    <script>
        let ws;
        const term = document.getElementById('terminal');

        // Hàm ghi Log chuẩn Hacker
        function log(msg, type='INFO') {
            let now = new Date();
            let time = now.getHours() + ':' + now.getMinutes() + ':' + now.getSeconds();
            let color = type === 'ERR' ? 'red' : (type === 'CMD' ? '#fff' : '#0f0');
            
            let line = `<div>
                <span class='log-time'>[${time}]</span> 
                <span style='color:${color}; font-weight:bold'>${type}:</span> 
                <span style='color:#ccc'>${msg}</span>
            </div>`;
            
            term.innerHTML += line;
            term.scrollTop = term.scrollHeight; // Tự cuộn xuống dưới
        }

        function connect() {
            let ip = document.getElementById('ip').value;
            let url = 'ws://' + ip + ':8080';
            log('Attempting connection to ' + url + '...', 'CMD');
            
            try {
                ws = new WebSocket(url);
                ws.onopen = function() {
                    document.getElementById('connection-status').innerText = '[ ENCRYPTED UPLINK ESTABLISHED ]';
                    document.getElementById('connection-status').style.color = '#0f0';
                    document.getElementById('info-panel').innerHTML = 'Protocol: WebSocket<br>Latency: <10ms<br>Access: ROOT';
                    log('Connection successful. Access granted.', 'SUCCESS');
                };
                ws.onclose = function() {
                    document.getElementById('connection-status').innerText = '[ DISCONNECTED ]';
                    document.getElementById('connection-status').style.color = 'red';
                    log('Connection lost.', 'ERR');
                };
                ws.onerror = function() { log('Connection error. Host unreachable.', 'ERR'); };
                
                ws.onmessage = function(e) {
                    let d = e.data;
                    if(d.startsWith('IMG|')) {
                        document.getElementById('media-screen').innerHTML = `<img src='data:image/jpeg;base64,${d.substring(4)}'>`;
                        log('Screenshot data received (' + d.length + ' bytes).', 'SUCCESS');
                    }
                    else if(d.startsWith('VID|')) {
                        document.getElementById('media-screen').innerHTML = `<video controls autoplay loop src='data:video/avi;base64,${d.substring(4)}' style='width:100%'></video>`;
                        log('Webcam stream received.', 'SUCCESS');
                    }
                    else if(d.startsWith('KEYLOG|')) {
                        log('dumping keystrokes...', 'CMD');
                        term.innerHTML += `<div style='border:1px dashed #444; padding:5px; color:#0ff; background:#111'>${d.substring(7)}</div>`;
                        term.scrollTop = term.scrollHeight;
                    }
                    else if(d.startsWith('LIST_APP|')) {
                        renderList(d.substring(9));
                        log('Process list retrieved.', 'SUCCESS');
                    }
                    else {
                        log(d, 'INFO');
                    }
                };
            } catch(e) { log('Critical Error: ' + e, 'ERR'); }
        }

        function send(c) { 
            if(ws && ws.readyState==1) {
                ws.send(c); 
                log('Executing: ' + c, 'CMD');
            } else {
                alert('ERROR: Target not connected.');
                log('Command failed. No uplink.', 'ERR');
            }
        }

        function startApp() { send('START|'+document.getElementById('appName').value); }
        function killApp() { send('KILL|'+document.getElementById('killId').value); }

        // Hàm vẽ bảng Process List chuyên nghiệp
        function renderList(d) {
            let rows = d.split(';');
            // ĐÃ SỬA: Dùng dấu nháy đơn ' cho style width
            let html = '<table><tr><th style=\'width:60px\'>PID</th><th>PROCESS NAME</th></tr>';
            rows.forEach(r => {
                if(r.trim()) {
                    let parts = r.split(',');
                    if(parts.length >= 2) {
                         html += `<tr><td style='color:#0ff'>${parts[0]}</td><td>${parts[1]}</td></tr>`;
                    }
                }
            });
            html += '</table>';
            
            // Hiện thẳng vào Terminal Log
            term.innerHTML += `<div style='margin-top:5px; border-top:1px dashed #333'>${html}</div>`;
            term.scrollTop = term.scrollHeight;
        }
    </script>
</body>
</html>